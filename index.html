<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />

    <!-- DNS Prefetch & Preconnect for external resources -->
    <link rel="dns-prefetch" href="https://api.H4KU.com" />
    <link rel="preconnect" href="https://api.H4KU.com" crossorigin />
    <!-- Primary Meta Tags -->
    <title>HAKU (@0xH4KU)</title>
    <meta name="title" content="HAKU (@0xH4KU)" />
    <meta
      name="description"
      content="Portfolio of HAKU (0xH4KU) - Freelance illustrator and character designer. View commission works and original art."
    />
    <meta
      name="keywords"
      content="HAKU, 0xH4KU, anime art, anime illustration, character design, digital art, illustration, commission art, freelance illustrator, anime artist"
    />
    <meta name="author" content="HAKU" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://H4KU.com" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://H4KU.com" />
    <meta
      property="og:title"
      content="HAKU - Anime Illustration & Character Design"
    />
    <meta
      property="og:description"
      content="Portfolio of HAKU (0xH4KU) - Freelance illustrator and character designer."
    />
    <meta property="og:image" content="https://H4KU.com/og-image.jpg" />
    <meta property="og:site_name" content="HAKU Portfolio" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://H4KU.com" />
    <meta
      name="twitter:title"
      content="HAKU - Anime Illustration & Character Design"
    />
    <meta
      name="twitter:description"
      content="Portfolio of HAKU (0xH4KU) - Freelance illustrator and character designer."
    />
    <meta name="twitter:image" content="https://H4KU.com/og-image.jpg" />
    <meta name="twitter:site" content="@0xH4KU" />
    <meta name="twitter:creator" content="@0xH4KU" />

    <!-- Theme Color (managed by ThemeContext after hydration) -->
    <meta
      name="theme-color"
      content="#e8e8e8"
      media="(prefers-color-scheme: light)"
    />
    <meta
      name="theme-color"
      content="#0f0f0f"
      media="(prefers-color-scheme: dark)"
    />

    <!-- Fallback CSP for environments that ignore /public/_headers (mirrors header rules) -->
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self' https://challenges.cloudflare.com; style-src 'self' 'unsafe-inline'; img-src 'self' data: blob:; font-src 'self'; connect-src 'self' https://api.H4KU.com https://*.workers.dev https://*.sentry.io https://*.ingest.sentry.io https://challenges.cloudflare.com; frame-src https://challenges.cloudflare.com; media-src 'self'; object-src 'none'; base-uri 'self'; form-action 'self'; frame-ancestors 'none'; worker-src 'self' blob:; manifest-src 'self'; upgrade-insecure-requests"
    />

    <!-- Preload Critical Resources -->
    <link
      rel="preload"
      href="/fonts/ProFont.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link
      rel="preload"
      href="/fonts/ProFont-Bold.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />

    <!-- Pre-hydration theme setup (external to satisfy CSP / Lighthouse) -->
    <script src="/theme-init.js"></script>

    <!-- Critical CSS for faster First Contentful Paint -->
    <style>
      /* Font Face - Critical for text rendering */
      @font-face {
        font-family: 'ProFont';
        src: url('/fonts/ProFont.woff2') format('woff2');
        font-weight: 400;
        font-style: normal;
        font-display: swap;
      }
      @font-face {
        font-family: 'ProFont';
        src: url('/fonts/ProFont-Bold.woff2') format('woff2');
        font-weight: 700;
        font-style: normal;
        font-display: swap;
      }

      /* CSS Reset */
      *,
      *::before,
      *::after {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      /* CSS Variables */
      :root {
        --font-primary:
          'ProFont', ui-monospace, 'Cascadia Code', Menlo, Monaco, Consolas,
          monospace;
        --font-size-base: 16px;
        --topbar-height: 64px;
        --statusbar-height: 64px;
        --transition-fast: 0.2s;
        --transition-normal: 0.3s;
        --color-primary: #689696;
        --color-secondary: #e87722;
        --layout-top-offset: env(safe-area-inset-top, 0px);
        --layout-bottom-offset: env(safe-area-inset-bottom, 0px);
        --sidebar-top-offset: calc(
          var(--topbar-height) + env(safe-area-inset-top, 0px)
        );
        --sidebar-bottom-offset: calc(
          var(--statusbar-height) + env(safe-area-inset-bottom, 0px)
        );
        --content-padding-top: calc(
          var(--topbar-height) + 32px + env(safe-area-inset-top, 0px)
        );
        --content-padding-bottom: calc(
          var(--statusbar-height) + 32px + env(safe-area-inset-bottom, 0px)
        );
        --color-background: #f5f5f5;
        --color-foreground: #1a1a1a;
        --color-border: #d0d0d0;
        --color-surface: #e8e8e8;
        --color-text: #1a1a1a;
        --color-text-muted: #666;
        color-scheme: light dark;
      }
      @media (prefers-color-scheme: dark) {
        :root {
          --color-background: #1a1a1a;
          --color-foreground: #e8e8e8;
          --color-border: #333;
          --color-surface: #0f0f0f;
          --color-text: #e8e8e8;
          --color-text-muted: #999;
        }
      }

      /* Light Theme */
      [data-theme='light'] {
        --color-background: #f5f5f5;
        --color-foreground: #1a1a1a;
        --color-border: #d0d0d0;
        --color-surface: #e8e8e8;
        --color-text: #1a1a1a;
        --color-text-muted: #666;
      }

      /* Dark Theme */
      [data-theme='dark'] {
        --color-background: #1a1a1a;
        --color-foreground: #e8e8e8;
        --color-border: #333;
        --color-surface: #0f0f0f;
        --color-text: #e8e8e8;
        --color-text-muted: #999;
      }

      /* Base Styles */
      html {
        height: 100%;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        overscroll-behavior: none;
        overscroll-behavior-y: none;
      }

      body {
        height: 100%;
        font-family: var(--font-primary);
        font-size: var(--font-size-base);
        background-color: var(--color-background);
        color: var(--color-text);
        overflow: hidden;
        min-height: 100vh;
        min-height: calc(var(--vh, 1vh) * 100);
        margin: 0;
        overscroll-behavior: none;
        overscroll-behavior-y: none;
      }

      #root {
        overflow: hidden;
        min-height: 100vh;
        min-height: calc(var(--vh, 1vh) * 100);
        display: flex;
        flex-direction: column;
      }

      @supports (height: 100dvh) {
        body,
        #root {
          min-height: 100dvh;
        }
      }

      /* Skip link for accessibility */
      .skip-link {
        position: absolute;
        left: -9999px;
        z-index: 999;
        padding: 1em;
        background-color: var(--color-primary);
        color: white;
        text-decoration: none;
      }

      .skip-link:focus {
        left: 50%;
        transform: translateX(-50%);
        top: 1em;
      }

    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
